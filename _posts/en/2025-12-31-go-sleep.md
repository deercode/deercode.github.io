---
layout: post
lang: en
title:  "[Go] How to Sleep in Golang"
date:   2025-12-31
excerpt: "[Go] How to Sleep in Golang"
categories: [go]
tags: [go]
comments: true
permalink: /go-sleep
---

# [Go] How to Sleep in Golang

---

When you want to pause or delay program execution in Go, you can use the `Sleep` function from the `time` package. In this post, we will learn various ways to use sleep in Go.

## Basic Usage

To use sleep in Go, import the `time` package and call the `time.Sleep()` function.

```go
package main

import (
    "fmt"
    "time"
)

func main() {
    fmt.Println("Start")
    time.Sleep(2 * time.Second)
    fmt.Println("After 2 seconds")
}
```

`time.Sleep()` takes a `time.Duration` type as an argument. In the example above, `2 * time.Second` waits for 2 seconds.

## Various Time Units

Go's `time` package provides various time units:

```go
package main

import (
    "fmt"
    "time"
)

func main() {
    fmt.Println("Start")
    
    // Milliseconds
    time.Sleep(500 * time.Millisecond)
    fmt.Println("After 500 milliseconds")
    
    // Seconds
    time.Sleep(2 * time.Second)
    fmt.Println("After 2 seconds")
    
    // Minutes
    time.Sleep(1 * time.Minute)
    fmt.Println("After 1 minute")
    
    // Hours
    time.Sleep(1 * time.Hour)
    fmt.Println("After 1 hour")
}
```

## Available Time Units

| Unit | Description |
|------|-------------|
| `time.Nanosecond` | Nanosecond (1ns) |
| `time.Microsecond` | Microsecond (1Âµs) |
| `time.Millisecond` | Millisecond (1ms) |
| `time.Second` | Second (1s) |
| `time.Minute` | Minute (1m) |
| `time.Hour` | Hour (1h) |

## Practical Examples

### 1. Waiting Between Repeated Tasks

```go
package main

import (
    "fmt"
    "time"
)

func main() {
    for i := 1; i <= 5; i++ {
        fmt.Printf("Executing task %d...\n", i)
        time.Sleep(1 * time.Second)
    }
    fmt.Println("All tasks completed")
}
```

### 2. Delaying Between API Calls

```go
package main

import (
    "fmt"
    "time"
)

func callAPI() {
    fmt.Println("Calling API...")
    // API call logic
}

func main() {
    for i := 0; i < 3; i++ {
        callAPI()
        // Wait 2 seconds between API calls (Rate limiting)
        time.Sleep(2 * time.Second)
    }
}
```

### 3. Using with Goroutines

```go
package main

import (
    "fmt"
    "time"
)

func worker(id int) {
    for i := 0; i < 3; i++ {
        fmt.Printf("Worker %d: Task %d\n", id, i)
        time.Sleep(1 * time.Second)
    }
}

func main() {
    // Run multiple goroutines
    go worker(1)
    go worker(2)
    
    // Wait so the main goroutine doesn't exit
    time.Sleep(5 * time.Second)
    fmt.Println("All tasks completed")
}
```

## Important Notes

- `time.Sleep()` blocks the current goroutine. Other goroutines continue to run.
- It does not guarantee exact timing. The actual wait time may vary slightly depending on the system scheduler.
- Sleep for very short durations (nanoseconds) may have reduced accuracy.

## Difference from time.After()

`time.Sleep()` blocks for the specified duration, while `time.After()` returns a channel that can be used asynchronously:

```go
package main

import (
    "fmt"
    "time"
)

func main() {
    fmt.Println("Start")
    
    // time.Sleep() - blocking
    time.Sleep(2 * time.Second)
    fmt.Println("After 2 seconds (Sleep)")
    
    // time.After() - non-blocking (using channel)
    <-time.After(2 * time.Second)
    fmt.Println("After 2 seconds (After)")
}
```

I hope this post helps you understand how to use sleep in Go!

